Gamma Viewer 機能改変版について

	Copyright (C) 2006   Takayuki Kobayashi


1. 含まれているファイル

        README.txt          (このファイル)
	AutoUpdater,NLFilter,DMFilter,GraphObjectの,
		java(改変後ソース),
		class(改変後クラス),
		class.org(オリジナルクラス)
	の各ファイル


2. コンパイル環境

	jdk1.4.2_12(Windows XP pro sp2)


3. インストール方法

 (1) あらかじめオリジナルのGammaViewerをインストールしてください.
     オリジナル(gvwin0310all.zip)は本パッケージと同じサイトから
     ダウンロードできます.

 (2) 本パッケージ内のclassesディレクトリをオリジナルのインス
     トール先のclassesに全て上書きしてください.

(注) 本パッケージでは4つのアップデートが含まれます.
     特定の機能をインストールするには,関連するclassファイルのみ
     を上書きして下さい.

4. 改訂内容

(1)　2005年春のデータ取り込み系の更新により,以下の2点について対応が必要に
     なりました.

  a) kasumiの/usr2/shot/shot_noの終端文字がCR(0x0D)のみになった.
     (改訂前の確認はしていないがおそらくLF(0x0A))

  b) 一部のデータはkasumiに/usr2/shot/shot_noが書き込まれた後に,
     変換プログラムによって作成され,その処理には約1分必要です.

   上記(a)によりAutoUpdate機能の最新ショットナンバーの認識にエラーが発生
   し,AutoUpdate機能が働かない問題に対処しました.
   また、上記(b)により一部のデータはshot_no更新直後には[File Not Found]
   と扱われるため、90秒後に再度ファイル転送,演算,表示を行うようにしました.
   表示後のSleep時間が10分であったのを9分に変更しています.

注)この修正は2005年に一部単体で配布済みのものと同等です.
   この修正はAutoUpdater.classに含まれます.

(2)  NLの解析において新しいタイプ(MJCxxを2チャンネル使用)についての
     計算が間違っていました.この点についてNLFilter.classを修正しま
     した.

(3)  オリジナルのコードではGraph表示には1ピクセルあたり1点のデータを
     表示し、その他のデータは間引いていました.しかし,ペレット等の高
     速現象は全てのデータを確認する必要があるため,全データをプロット
     するように変更しました.
     オリジナルの動作は表示を高速化する為に有効な手段です.本修正は
     特定の目的の為の修正であり,常に推奨される修正ではありません.
     この修正に併せて,Ctrlクリック時のデータ出力を縦軸の値だけでは
     なく横軸の値も表示するようにしました.ただし,この場合はクリック
     したピクセルに複数の点がある為,そのうちの一つの点が表示される
     ことに注意してください.全てのデータについて確認するにはキャッ
     シュを確認することが有効であり,この操作はオリジナルでも可能で
     す.

(4)  DMFilterの間違えにより単位表示が1E-6になっていたものを正しい
     1E-4に修正しました.

5. 注意事項

　本パッケージは津田英介氏の著作物であるGammaViewerの改変版です.
改訂した箇所はソースコードに記載してあります.
また,改訂した箇所の著作権は小林貴之にあります.
オリジナルのGammaViewerはGPLライセンスの元で配布されていますので,
本パッケージもGPLライセンスの元で配布されます.
またオリジナルのソースコードは文字コードがEUC_JPになっていますが,
実際のバイナリはSJISコードで作成されていますので,本パッケージもSJIS
でコンパイルしてあります.改訂版のソースもSJISコードです.


     2006年7月8日 小林貴之(tkobaya@prc.tsukuba.ac.jp)

